{% extends "base.html" %}
{% load dataset_tags %}
{% load url from future %}
{% load staticfiles %}
{% load crispy_forms_tags %}
{% block static %}
<script src="http://d3js.org/d3.v2.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/example_figure.js"></script>
<link type="text/css" rel="stylesheet" href="{{ STATIC_URL }}css/figure.css">
{% endblock static %}

{% block content %}
<div class="container">
    <h1 class="page-title center">{{ dataset.name }}</h1>
    
    {# Dataset control buttons #}
    <div class="btn-toolbar">
        <a href="{% url 'datasets:edit' dataset.pk %}" class="btn">
            <i class="icon-pencil"></i>
            Edit
        </a>
        <a href="#" class="btn">
            <i class="icon-tag"></i>
            Create Label
        <a href="{% url 'datasets:delete' dataset.pk %}" class="btn">
            <i class="icon-remove"></i>
            Delete
        </a>
    </div>
    
    <div class="block">
        <div class="block-heading">Visualization</div>
    <div id="chart"></div>
    <script>
        d3.json("{{ STATIC_URL }}figures/example_figure.json", draw);
    </script>
    </div>

    <div class="block">
        <a class="block-heading" data-toggle="collapse" href="#information-menu">Information</a>
        <div id="information-menu" class="accordian-body collapse" style="height: auto;">
        <table>
            <tbody>
                <tr>
                    <th>Name</th>
                    <td>  {{ dataset.name }}</td>
                </tr>
                {% if dataset.description  %}
                <tr>
                    <th>Description</th>
                    <td>  {{ dataset.description }}</td>
                </tr>
                {% endif %}
                {% if dataset.species %}
                <tr>
                    <th>Species</th>
                    <td><em> {{ dataset.species }} </em></td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    </div>
{% show_dataset dataset %}
{% crispy upload_form %}
</div>
{% endblock content %}