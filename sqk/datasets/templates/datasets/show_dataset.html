{% load url from future %}
<div class="block span12">
  <div class="block-heading" data-toggle="collapse" href="#dataset">Data</div>
  <div id="dataset" class="collapse in">
    <table id="dataset-table" class="table table-striped">
    {# Header #}
    <thead>
      <tr>
        <th>#</th>
        {% if dataset.label_name %}
        <th>{{ dataset.label_name|capfirst }}</th>
        {% endif %}
        {% for feature in dataset.sorted_features %}
        <th>{{ feature.name|capfirst }}</th>
        {% endfor %}
      </tr>
    </thead>

    {# Data #}
    {# TODO: add ability to select instances #}
    <tbody>
      {% for instance in dataset.sorted_instances %}
      <tr>
        <td>{{ forloop.counter }}</td>
        {% if dataset.label_name %}
          <td>{{ instance.label_value }}</td>
        {% endif %}
        {% for value in instance.sorted_values %}
        <td>{{ value|floatformat:3 }}</td>
        {% endfor %}
        <td>{{ instance.label.label }}</td>
          <td><a href="{% url 'datasets:instance_delete' dataset.pk instance.pk %}"><i class="icon-remove"></i></a>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>