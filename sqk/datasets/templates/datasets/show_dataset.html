{% load url from future %}
<div class="block span12">
  <div id="datasetHeading" class="block-heading" data-toggle="collapse" href="#dataset">Data</div>
  <div id="dataset" class="collapse in">
    <table id="dataset-table" class="table table-striped">
      {# Header #}
      <thead>
        <tr>
          <th>#</th>
          {% if dataset.label_name %}
          <th>{{ dataset.label_name|title }}</th>
          {% endif %}

          {# FIXME: dataset.instances is a QuerySet. Must be a list #}
              {% for feature_name in feature_names %}
              <th>{{ feature_name|title }}</th>
              {% endfor %}
        </tr>
      </thead>

      {# Data #}
      {# TODO: add ability to select instances #}
      <tbody>
        {% for instance_id, values in dataset.values.items %}
        <tr>
          <td>{{ forloop.counter }}</td>
          {% if dataset.label_name %}
          <td>{{ instance.label_value|capfirst }}</td>
          {% endif %}
          {% for value in values %}
          <td>{{ value|floatformat:3 }}</td>
          {% endfor %}
          <td><a href="{% url 'datasets:instance_delete' dataset.pk instance_id %}"><i class="icon-remove"></i></a>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>